{% extends 'market/base.html' %}
{% load static %}

{% block title %}{% endblock %} 
{% block style %}
    <script type="text/javascript">
        function openNav() {
            document.getElementById("mySidenav").style.width = "270px";
        }

        function closeNav() {
            document.getElementById("mySidenav").style.width = "0";
        }
    </script>
{% endblock %}
{% block content %}
    {% if messages %}
    {% for message in messages %}
    <div class="alert alert-secondary mt-5" role="alert">
        {{message}}
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    {% endfor %}
    {% endif %}
    <div class="row">
        <div class="col-3">
            <img style="padding: 0px; width: 80%; margin-top: 85px; height: 95%" src="{% static 'market/images/side_background.png' %}">
        </div>

        <div class="col-6">
            <form method="POST" action="{% url 'update_user_profile' %}">
                <div class="row">
                    
                    <div class="col-5">
                        <img class="profile_photo" src="{% static 'market/images/profile_photo.jpg' %}" style="border-radius: 30px; margin-top:120px; width:80%; height:70%;">
                    </div>
                    <div class="col-7">
                        {% csrf_token %}
                        <div class="row" style="margin-top: 0">
                            <h3>Profile Info</h3>
                        </div>
                        <div class="row" style="margin-top: 0">
                            <div style="height: 1px; width: 500px; background-color: black; margin-left: -20px"></div>
                        </div>
                        <div class="row">
                            <div class="col-3">
                                <p>Name: </p>
                            </div>
                            <div class="col-9">
                                <input type="text" class="special_input w-100 profile_text" name="first_name" style="margin-top: 40px;" value="{{user.first_name}}">
                            </div>
                        </div>
                        <div class="row">
                            <div style="height: 1px; width: 400px; background-color: #BABABA; margin-left: 10px"></div>
                        </div>
                        <div class="row">
                            <div class="col-3">
                                <p>Surname: </p>
                            </div>
                            <div class="col-9">
                                <input type="text" class="special_input w-100 profile_text" name="last_name" style="margin-top: 40px;" value="{{user.last_name}}">
                            </div>
                        </div>
                        <div class="row">
                            <div style="height: 1px; width: 400px; background-color: #BABABA; margin-left: 10px"></div>
                        </div>
                        <div class="row">
                            <div class="col-3">
                                <p>E-mail: </p>
                            </div>
                            <div class="col-9">
                                <input type="text" class="special_input w-100 profile_text" name="email" style="margin-top: 40px;" value="{{user.username}}">
                            </div>
                        </div>
                        <div class="row">
                            <div style="height: 1px; width: 400px; background-color: #BABABA; margin-left: 10px"></div>
                        </div>
                        <div style="display: flex; justify-content: flex-end">
                            <button class="btn btn-primary mt-3" style="background-color: black; border: none" type="submit">Update info</button>
                        </div>
                    </div>
                </div>
            </form>
            <form method="POST" action="{% url 'update_user_delivery' %}">
                {% csrf_token %}
                <div class="row" style="margin-top: -50px">
                    <h3>Delivery Address</h3>
                </div>
                <div class="row" style="margin-top: 0">
                    <div style="height: 1px; width: 1000px; background-color: black; margin-left: -20px"></div>
                </div>
                <div class="row">
                    <div class="col-3">
                        <p>Street: </p>
                    </div>
                    <div class="col-9">
                        <input type="text" class="special_input w-100 profile_text" name="street" style="margin-top: 40px;" value="{{delivery.street}}">
                    </div>
                </div>
                <div class="row">
                    <div style="height: 1px; width: 700px; background-color: #BABABA; margin-left: 10px"></div>
                </div>
                <div class="row">
                    <div class="col-3">
                        <p>Building: </p>
                    </div>
                    <div class="col-9">
                        <input type="text" class="special_input w-100 profile_text" name="building" style="margin-top: 40px;" value="{{delivery.building}}">
                    </div>
                </div>
                <div class="row">
                    <div style="height: 1px; width: 700px; background-color: #BABABA; margin-left: 10px"></div>
                </div>
                <div class="row">
                    <div class="col-3">
                        <p>Floor: </p>
                    </div>
                    <div class="col-9">
                        <input type="text" class="special_input w-100 profile_text" name="floor" style="margin-top: 40px;" value="{{delivery.floor}}">
                    </div>
                </div>
                <div class="row">
                    <div style="height: 1px; width: 700px; background-color: #BABABA; margin-left: 10px"></div>
                </div>
                <div class="row">
                    <div class="col-3">
                        <p>Apartments: </p>
                    </div>
                    <div class="col-9">
                        <input type="text" class="special_input w-100 profile_text" name="apartment" style="margin-top: 40px;" value="{{delivery.apartment}}">
                    </div>
                </div>
                <div class="row">
                    <div style="height: 1px; width: 700px; background-color: #BABABA; margin-left: 10px"></div>
                </div>

                <div style="display: flex; justify-content: flex-end">
                    <button class="btn btn-primary mt-3" style="background-color: black; border: none" type="submit">Update address</button>
                </div>
            </form>
            <form method="POST" action="{% url 'update_user_payment' %}">
                {% csrf_token %}
                <div class="row" style="margin-top: -50px">
                    <h3>Payment Info</h3>
                </div>
                <div class="row" style="margin-top: 0">
                    <div style="height: 1px; width: 1000px; background-color: black; margin-left: -20px"></div>
                </div>
                <div class="row">
                    <div class="col-3">
                        <p>Credit Card: </p>
                    </div>
                    <div class="col-9">
                        <input type="text" class="special_input w-100 profile_text" name="payment" style="margin-top: 40px;" value="{{payment.payment}}">
                    </div>
                </div>
                <div class="row">
                    <div style="height: 1px; width: 700px; background-color: #BABABA; margin-left: 10px"></div>
                </div>

                <div style="display: flex; justify-content: flex-end">
                    <button class="btn btn-primary mt-3" style="background-color: black; border: none" type="submit">Update card</button>
                </div>
            </form>

            <form method="POST" action="{% url 'logout' %}">
                {% csrf_token %}
                <div class="d-flex justify-content-center mx-4 mb-3 mb-lg-4 row">
                    <button type="submit" class="btn btn-primary btn-lg" style="background-color: black; border: none; margin-top: 50px">Log out</button>
                </div>
            </form>
        </div>
        <div class="col-3">
            <img style="padding: 0px; width: 80%; margin-left: 80px; margin-top: 85px; height: 95%;" src="{% static 'market/images/side_background.png' %}">
        </div>
    </div>
{% endblock %}